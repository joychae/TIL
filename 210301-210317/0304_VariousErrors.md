20210304\_TIL
==============
웹개발 미니프로젝트 4화_CSS, AWS EC2 연결, 각종 Errors
----------------------------------------

-   첫 웹개발 프로젝트를 완성해 제출했다. Git을 이용한 개발 프로젝트의 협업 방식, 작업 진행 순서 등을 직접 익힐 수 있었다. 아직은 낯선 개발 프로젝트의 처음과 끝을 빠르게 경험해볼 수 있었다.

-   이번 프로젝트의 작업 진행순서는 다음과 같았다. 1) HTML 뼈대 만들고 app.py와 연동해 서버 연결 점검 2) API 설계대로 백앤드 로직 구현 (+ 프론트앤드 자바스크립트 부분 코딩) 3) CSS로 UI 구현 4) AWS EC2을 이용해 도메인에 연결

-   오늘은 후반작업에 해당하는 CSS 작업, AWS 서버 연결 후 에러 점검 등을 진행하였다. 개인적으로 부트스트랩과 같은 도구들은 편리하긴 하지만 커스터마이징이 쉽지 않아 아쉽다. 그래서 이번 CSS는 부트스트랩이나 불마와 같은 도구를 쓰지 않고 순수 CSS로 내 능력껏 만들었다.

-   시간이 조금 더 있었다면 로그인 기능을 추가했었던 만큼, 개인별 프로필 페이지를 만들어보고 싶었다. 주말에 따로 localhost에서 파일을 디벨롭 해볼 생각이다.

-   이번 포스팅에서는 이번주 마주쳤던 에러들, 그리고 지난한 삽질 과정을 정리해보려 한다. 

-   프로젝트 결과물 제출 후 홀가분한 마음으로 팀원들과 이야기를 많이 나눌 수 있었다. 각자 다양한 배경을 가진 사람들이 어떠한 이유로 이 부트캠프에 오게 되었는지 시간가는 줄 모르고 떠들었다. 오래 갈 인연을 만난 것 같아 기쁘다.

---


이번 웹개발 프로젝트의 결과물이다. PC 화면을 기준으로 만들어 모바일에서는 UI가 매우 많이 뒤틀린다.

[웹개발 미니 프로젝트 결과물](http://sannumsan.site/)

등산 동행을  구하는 글을 올릴 수 있는 플랫폼이다. 원래는 사용자들이 자신들이 아는 산의 정보를 입력하는 형태로, 대한민국 산들의 정보만을 보여주려 했었다. 하지만 개발 과정에서 방향을 바꾸는 아이디어를 제안했다. 우리 팀이 개발하는 기능은 사용자들이 직접 정보를 기입하는 기능이다. 그렇다면 백과사전에서도 볼 수 있는 단순 정보 나열보다는 꼭 다른 사람에게서 들어야 하는 정보를 나누는 공간으로 구성하는게 더 가치있다고 생각했다. 그래서 제안한 아이디어가 등산 동행 구하기 였다. 산이라는 기존의 테마에서도 벗어나지 않았기에 팀원들도 모두 동의해주어, 서비스 스토리텔링을 바꾸어 완성하였다.

---


### ERROR (라 쓰고 프로젝트 과정에서의 크고 작은 삽질이라 읽는다)

어떠한 기준으로 에러들을 정렬해볼까 하다가 가장 멍청했던 순서로 쓰기로 마음 먹었다.

**1위. 화면 비율 70%로 맞추고 CSS 작업.**

당연히 원하던 것보다 UI가 크게크게 구현되었다. 덕분에 다시 화면비율 100%로 맞춰놓고 박스크기, 폰트 사이즈, margin, padding 싹다 바꾸어야 했다.

**2위. Git Bash 명령어 안들음. sudo: command not found**

AWS EC2 연결과정에서 Git Bash를 이용해 명령어를 넣어줘야 하는데 명령어를 인식하지 못했다. 알고보니 맥 버전 가이드를 따라하고 있었다. 논외로, sudo는 리눅스 명령어이기 때문에 cmd에서 인식을 못한다고 한다.

**3\. Git Repository에 venv파일 올리기**

항해99 D+2 글에서도 언급했었는데, 의문이 해결되었다. Git에 venv 파일을 업로드 하니까 말도 안되게 많은 파일들이 업로드되고 다운로드 되어서 당황했었는데 역시 올리지 않는게 맞았다. 폴더를 올릴 때 폴더 내의 특정 파일을 제거하고 싶으면 gitignore파일을 생성해 폴더에 넣어두면 해결된다. 다음은 gitignore 파일을 자동생성해주는 사이트이다. python을 쳐서 코드를 생성해 복사붙여넣기를 통해 간편하게 파일을 만들자.

(추가로 다른 사람이 올린 venv를 pull 해오면 내 컴퓨터의 가상환경이 망가져서 전혀 동작하지 않는 에러 역시 마주했었다.)

[gitignore.io](https://www.toptal.com/developers/gitignore)

**4위. MongoDB Connenction 에러**

여기서 부터는 내 실수가 아니라 충분히 일어날 수 있을 법한 에러들이다. Python에서 크롤링 작업을 하고 있었는데 print했을 때는 terminal 창에 잘 나오는 정보들이 데이터베이스에 insert 하려고 하기만 하면 오류가 나서 고민중이었다. 질문방에 질문을 올려서 해결했다. MongoDB가 꺼져서 생긴 문제였다. 제어판 > 로컬 서비스 보기에서 MongoDB를 찾아서 시작을 눌러주자. 아주 잘 작동한다. 별개로 Robo 3T에서 자꾸 Localhost 데이터로 들어가지지가 않았었는데 이것도 역시 MongoDB가 꺼져 있어서 였다. 

**5위. Naver 지도 API 인증안됨 에러**

localhost에서는 잘 작동하는 Naver 지도 API가 AWS EC2에 연결하니 인증오류가 떳다. 일단 localhost에서는 잘 작동하니 코딩이나 인증키값상의 에러는 아니라 생각해 네이버 클라우드 플랫폼을 좀 뒤져봤다. 오류가 나는 원인을 생각보다 금방 찾을 수 있었다. API 인증키값을 받을 때, 어느 도메인에서 사용할지를 지정해주어야 한다. 내가 localhost:5000만 지정해놓았었다. 프로젝트 사이트 도메인을 넣으니 바로 지도 API 인증 오류가 해결되었다.

**6위. AWS EC2 연결 시 MongoDB unauthorized 에러**

localhost에서 작업할 때와는 다르게 데이터 보완을 위해, 데이터베이스에 아이디와 패스워드를 지정해주어야 한다. localhost에서 작업했던 파일을 그대로 업로드 하면 당연히 아이디와 패스워드 값이 지정되지 않는다. 다음과 같이 코드를 바꾸어주어야 한다.

client = MongoClient ( "localhost", 27017 ) 에서

client = MongoClient ( "mongodb:// 아이디: 패스워드 @localhost", 27017) 요렇게 바꿔서 app.py 내 코드를 갈아주어야 한다. 물론 robo 3T에서 Connecting 과정 시 아이디와 패스워드 값을 넣어주어야 한다!

**기타. 각종 에러들...**

에러 메세지를 구글창에 복붙해가면서 눈앞의 에러들을 해결해나가고 있다. 이것도 안되고 저것도 안되도 계속 하다보면 언젠가는 풀리는 듯하다. 항해99의 질문방에 질문을 올리면 함께 수강하는 수강생분들이 답을 달아주시기도 한다. 혼자 도무지 해결이 안될 때 두 차례 질문을 올렸는데 정말 빠르게 해결방법을 찾아주셨다. (능력자!) 나도 도움을 드릴 수 있다면 최대한 도움을 드리려고 한다. 아직 아는게 많이 없지만 항해 D+2글에서 정리했던 git 관련 질문에 몇 개의 답을 달아 드릴 수 있었다. 시간이 지나며 TIL 글들이 늘어나는 만큼, 나 역시 질문에 답변을 많이 드릴 수 있는 수준으로 성장하고자 한다.